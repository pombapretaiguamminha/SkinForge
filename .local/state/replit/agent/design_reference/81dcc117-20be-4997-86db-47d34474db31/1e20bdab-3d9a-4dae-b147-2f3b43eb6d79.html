<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OBJ to Blockbench JSON Converter</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
    tailwind.config = {
        theme: {
            extend: {
                borderRadius: {
                    lg: "var(--radius)",
                    md: "calc(var(--radius) - 2px)",
                    sm: "calc(var(--radius) - 4px)",
                },
                colors: {
                    background: "var(--background)",
                    foreground: "var(--foreground)",
                    card: {
                        DEFAULT: "var(--card)",
                        foreground: "var(--card-foreground)",
                    },
                    popover: {
                        DEFAULT: "var(--popover)",
                        foreground: "var(--popover-foreground)",
                    },
                    primary: {
                        DEFAULT: "var(--primary)",
                        foreground: "var(--primary-foreground)",
                    },
                    secondary: {
                        DEFAULT: "var(--secondary)",
                        foreground: "var(--secondary-foreground)",
                    },
                    muted: {
                        DEFAULT: "var(--muted)",
                        foreground: "var(--muted-foreground)",
                    },
                    accent: {
                        DEFAULT: "var(--accent)",
                        foreground: "var(--accent-foreground)",
                    },
                    destructive: {
                        DEFAULT: "var(--destructive)",
                        foreground: "var(--destructive-foreground)",
                    },
                    border: "var(--border)",
                    input: "var(--input)",
                    ring: "var(--ring)",
                }
            }
        }
    };
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <style>
        :root {
            --background: hsl(210 40% 98%);
            --foreground: hsl(222.2 84% 4.9%);
            --card: hsl(0 0% 100%);
            --card-foreground: hsl(222.2 84% 4.9%);
            --popover: hsl(0 0% 100%);
            --popover-foreground: hsl(222.2 84% 4.9%);
            --primary: hsl(221.2 83.2% 53.3%);
            --primary-foreground: hsl(210 40% 98%);
            --secondary: hsl(210 40% 96%);
            --secondary-foreground: hsl(222.2 84% 4.9%);
            --muted: hsl(210 40% 96%);
            --muted-foreground: hsl(215.4 16.3% 46.9%);
            --accent: hsl(210 40% 96%);
            --accent-foreground: hsl(222.2 84% 4.9%);
            --destructive: hsl(0 84.2% 60.2%);
            --destructive-foreground: hsl(210 40% 98%);
            --border: hsl(214.3 31.8% 91.4%);
            --input: hsl(214.3 31.8% 91.4%);
            --ring: hsl(221.2 83.2% 53.3%);
            --radius: 0.5rem;
            --font-sans: "Inter", sans-serif;
        }

        .dark {
            --background: hsl(222.2 84% 4.9%);
            --foreground: hsl(210 40% 98%);
            --card: hsl(222.2 84% 4.9%);
            --card-foreground: hsl(210 40% 98%);
            --popover: hsl(222.2 84% 4.9%);
            --popover-foreground: hsl(210 40% 98%);
            --primary: hsl(217.2 91.2% 59.8%);
            --primary-foreground: hsl(222.2 84% 4.9%);
            --secondary: hsl(217.2 32.6% 17.5%);
            --secondary-foreground: hsl(210 40% 98%);
            --muted: hsl(217.2 32.6% 17.5%);
            --muted-foreground: hsl(215 20.2% 65.1%);
            --accent: hsl(217.2 32.6% 17.5%);
            --accent-foreground: hsl(210 40% 98%);
            --destructive: hsl(0 62.8% 30.6%);
            --destructive-foreground: hsl(210 40% 98%);
            --border: hsl(217.2 32.6% 17.5%);
            --input: hsl(217.2 32.6% 17.5%);
            --ring: hsl(224.3 76.3% 94.1%);
        }

        * {
            border-color: var(--border);
        }

        body {
            background-color: var(--background);
            color: var(--foreground);
            font-family: var(--font-sans);
        }

        .file-drop-zone {
            transition: all 0.3s ease;
        }
        
        .file-drop-zone.drag-over {
            background-color: var(--accent);
            border-color: var(--primary);
        }

        .pulse-loader {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease-out;
        }

        .processing-animation {
            background: linear-gradient(90deg, transparent, var(--primary), transparent);
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite;
        }

        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }
    </style>
</head>

<body class="bg-background">
    <!-- @COMPONENT: Header -->
    <header class="bg-card shadow-sm border-b border-border">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-primary rounded-lg flex items-center justify-center">
                        <i class="fas fa-cube text-primary-foreground text-xl"></i>
                    </div>
                    <div>
                        <h1 class="text-xl font-bold text-foreground">OBJ to JSON Converter</h1>
                        <p class="text-sm text-muted-foreground">Para Blockbench & Minecraft</p>
                    </div>
                </div>
                <button id="darkModeToggle" class="p-2 rounded-lg bg-secondary hover:bg-accent transition-colors">
                    <i class="fas fa-moon text-secondary-foreground"></i>
                </button>
            </div>
        </div>
    </header>
    <!-- @END_COMPONENT: Header -->

    <main class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- @COMPONENT: HeroSection -->
        <div class="text-center mb-12">
            <h2 class="text-3xl sm:text-4xl font-bold text-foreground mb-4">
                Converta Arquivos .OBJ para JSON do Blockbench
            </h2>
            <p class="text-lg text-muted-foreground max-w-2xl mx-auto">
                Transforme seus modelos 3D .OBJ em formato JSON compatível com Blockbench para criar skins 5D incríveis para Minecraft PC.
            </p>
        </div>
        <!-- @END_COMPONENT: HeroSection -->

        <!-- @COMPONENT: ConversionTool -->
        <div class="grid gap-8 lg:grid-cols-2">
            <!-- Upload Section -->
            <div class="space-y-6">
                <div class="bg-card rounded-lg border border-border p-6 shadow-sm">
                    <h3 class="text-xl font-semibold text-card-foreground mb-4 flex items-center">
                        <i class="fas fa-upload text-primary mr-2"></i>
                        Selecionar Arquivo .OBJ
                    </h3>
                    
                    <!-- @FUNCTIONALITY: File upload with drag-and-drop support -->
                    <div id="dropZone" class="file-drop-zone border-2 border-dashed border-border rounded-lg p-8 text-center hover:bg-accent/50 cursor-pointer transition-colors">
                        <div id="dropContent">
                            <i class="fas fa-cloud-upload-alt text-4xl text-muted-foreground mb-4"></i>
                            <p class="text-lg font-medium text-foreground mb-2">
                                Clique para selecionar ou arraste o arquivo aqui
                            </p>
                            <p class="text-sm text-muted-foreground mb-4">
                                Suporta arquivos .obj até 10MB
                            </p>
                            <input type="file" id="fileInput" class="hidden" accept=".obj" data-implementation="Handle file selection and validation">
                            <button onclick="document.getElementById('fileInput').click()" class="bg-primary hover:bg-primary/90 text-primary-foreground px-6 py-2 rounded-md font-medium transition-colors">
                                Escolher Arquivo
                            </button>
                        </div>
                    </div>

                    <!-- File Info Display -->
                    <div id="fileInfo" class="hidden mt-4 p-4 bg-accent rounded-lg">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center">
                                <i class="fas fa-file text-primary mr-2"></i>
                                <div>
                                    <p class="font-medium text-accent-foreground" data-bind="selectedFile.name">model.obj</p>
                                    <p class="text-sm text-muted-foreground" data-bind="selectedFile.size">2.3 MB</p>
                                </div>
                            </div>
                            <button id="removeFile" class="text-muted-foreground hover:text-destructive">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Conversion Button -->
                <div class="bg-card rounded-lg border border-border p-6 shadow-sm">
                    <button id="convertBtn" disabled class="w-full bg-primary hover:bg-primary/90 disabled:bg-muted disabled:text-muted-foreground text-primary-foreground py-3 px-6 rounded-md font-medium transition-colors flex items-center justify-center" data-event="click:handleConversion">
                        <i class="fas fa-sync-alt mr-2"></i>
                        Converter para JSON
                    </button>
                    
                    <!-- Progress Indicator -->
                    <div id="progressSection" class="hidden mt-4">
                        <div class="flex items-center justify-between text-sm text-muted-foreground mb-2">
                            <span>Processando arquivo...</span>
                            <span data-bind="conversionProgress">45%</span>
                        </div>
                        <div class="w-full bg-muted rounded-full h-2">
                            <div class="processing-animation bg-primary h-2 rounded-full" style="width: 45%"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Output Section -->
            <div class="space-y-6">
                <div class="bg-card rounded-lg border border-border p-6 shadow-sm">
                    <h3 class="text-xl font-semibold text-card-foreground mb-4 flex items-center">
                        <i class="fas fa-download text-primary mr-2"></i>
                        Resultado da Conversão
                    </h3>

                    <!-- Default State -->
                    <div id="defaultOutput" class="text-center py-8">
                        <i class="fas fa-file-code text-4xl text-muted-foreground mb-4"></i>
                        <p class="text-muted-foreground">
                            Seu arquivo JSON convertido aparecerá aqui
                        </p>
                    </div>

                    <!-- Success State -->
                    <div id="successOutput" class="hidden fade-in">
                        <div class="flex items-center text-green-600 mb-4">
                            <i class="fas fa-check-circle mr-2"></i>
                            <span class="font-medium">Conversão concluída com sucesso!</span>
                        </div>
                        
                        <div class="bg-accent rounded-lg p-4 mb-4">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="font-medium text-accent-foreground" data-bind="convertedFile.name">model_converted.json</p>
                                    <p class="text-sm text-muted-foreground">Arquivo JSON do Blockbench</p>
                                </div>
                                <div class="text-right">
                                    <p class="text-sm text-muted-foreground" data-bind="convertedFile.size">1.8 MB</p>
                                    <p class="text-xs text-muted-foreground" data-bind="conversionTime">2.3s</p>
                                </div>
                            </div>
                        </div>

                        <div class="flex flex-col sm:flex-row gap-3">
                            <button class="flex-1 bg-primary hover:bg-primary/90 text-primary-foreground py-2 px-4 rounded-md font-medium transition-colors flex items-center justify-center" data-event="click:downloadFile">
                                <i class="fas fa-download mr-2"></i>
                                Baixar JSON
                            </button>
                            <button class="flex-1 border border-border hover:bg-accent text-foreground py-2 px-4 rounded-md font-medium transition-colors flex items-center justify-center" data-event="click:previewFile">
                                <i class="fas fa-eye mr-2"></i>
                                Visualizar
                            </button>
                        </div>
                    </div>

                    <!-- Error State -->
                    <div id="errorOutput" class="hidden fade-in">
                        <div class="flex items-center text-destructive mb-4">
                            <i class="fas fa-exclamation-triangle mr-2"></i>
                            <span class="font-medium">Erro na conversão</span>
                        </div>
                        <div class="bg-destructive/10 border border-destructive/20 rounded-lg p-4 mb-4">
                            <p class="text-destructive text-sm" data-bind="errorMessage">
                                O arquivo .OBJ possui formato inválido ou está corrompido. Verifique se o arquivo é um modelo 3D válido.
                            </p>
                        </div>
                        <button class="bg-secondary hover:bg-secondary/80 text-secondary-foreground py-2 px-4 rounded-md font-medium transition-colors" data-event="click:resetConverter">
                            Tentar Novamente
                        </button>
                    </div>
                </div>

                <!-- Quick Info Card -->
                <div class="bg-card rounded-lg border border-border p-6 shadow-sm">
                    <h4 class="font-semibold text-card-foreground mb-3 flex items-center">
                        <i class="fas fa-info-circle text-primary mr-2"></i>
                        Como Usar
                    </h4>
                    <ol class="text-sm text-muted-foreground space-y-2">
                        <li class="flex items-start">
                            <span class="bg-primary text-primary-foreground rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold mr-3 mt-0.5">1</span>
                            Selecione seu arquivo .OBJ do modelo 3D
                        </li>
                        <li class="flex items-start">
                            <span class="bg-primary text-primary-foreground rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold mr-3 mt-0.5">2</span>
                            Clique em "Converter para JSON"
                        </li>
                        <li class="flex items-start">
                            <span class="bg-primary text-primary-foreground rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold mr-3 mt-0.5">3</span>
                            Baixe o arquivo JSON convertido
                        </li>
                        <li class="flex items-start">
                            <span class="bg-primary text-primary-foreground rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold mr-3 mt-0.5">4</span>
                            Importe no Blockbench para criar skins 5D
                        </li>
                    </ol>
                </div>
            </div>
        </div>
        <!-- @END_COMPONENT: ConversionTool -->

        <!-- @COMPONENT: FeaturesSection -->
        <div class="mt-16">
            <h3 class="text-2xl font-bold text-foreground text-center mb-8">Recursos do Conversor</h3>
            <div class="grid md:grid-cols-3 gap-6">
                <div class="bg-card rounded-lg border border-border p-6 shadow-sm text-center">
                    <div class="w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-mobile-alt text-primary text-xl"></i>
                    </div>
                    <h4 class="font-semibold text-card-foreground mb-2">Compatível Mobile</h4>
                    <p class="text-sm text-muted-foreground">Funciona perfeitamente em celulares e tablets</p>
                </div>

                <div class="bg-card rounded-lg border border-border p-6 shadow-sm text-center">
                    <div class="w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-shield-alt text-primary text-xl"></i>
                    </div>
                    <h4 class="font-semibold text-card-foreground mb-2">Processamento Local</h4>
                    <p class="text-sm text-muted-foreground">Seus arquivos são processados no seu dispositivo</p>
                </div>

                <div class="bg-card rounded-lg border border-border p-6 shadow-sm text-center">
                    <div class="w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-bolt text-primary text-xl"></i>
                    </div>
                    <h4 class="font-semibold text-card-foreground mb-2">Conversão Rápida</h4>
                    <p class="text-sm text-muted-foreground">Processamento otimizado para velocidade</p>
                </div>
            </div>
        </div>
        <!-- @END_COMPONENT: FeaturesSection -->

        <!-- @COMPONENT: ExampleSection -->
        <div class="mt-16 bg-card rounded-lg border border-border p-6 shadow-sm">
            <h3 class="text-xl font-semibold text-card-foreground mb-4 flex items-center">
                <i class="fas fa-code text-primary mr-2"></i>
                Exemplo de Saída JSON
            </h3>
            <div class="bg-muted rounded-lg p-4 overflow-x-auto">
                <pre class="text-sm text-muted-foreground"><code>{
    "format_version": "1.10.0",
    "geometry.custom_model": {
        "texturewidth": 64,
        "textureheight": 64,
        "visible_bounds_width": 3,
        "visible_bounds_height": 6,
        "visible_bounds_offset": [0, 3, 0],
        "bones": [
            {
                "name": "root",
                "pivot": [0, 12, 0]
            },
            {
                "name": "head",
                "parent": "root",
                "pivot": [0, 24, 0],
                "cubes": [
                    {
                        "origin": [-4, 24, -2], 
                        "size": [8, 8, 8], 
                        "uv": [0, 0]
                    }
                ]
            }
        ]
    }
}</code></pre>
            </div>
        </div>
        <!-- @END_COMPONENT: ExampleSection -->
    </main>

    <!-- @COMPONENT: Footer -->
    <footer class="bg-card border-t border-border mt-16">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="flex flex-col md:flex-row items-center justify-between">
                <div class="text-center md:text-left mb-4 md:mb-0">
                    <p class="text-sm text-muted-foreground">
                        © 2024 OBJ to JSON Converter. Ferramenta gratuita para criadores Minecraft.
                    </p>
                </div>
                <div class="flex items-center space-x-4">
                    <a href="#" class="text-muted-foreground hover:text-foreground text-sm transition-colors">
                        <i class="fas fa-question-circle mr-1"></i>
                        Ajuda
                    </a>
                    <a href="#" class="text-muted-foreground hover:text-foreground text-sm transition-colors">
                        <i class="fab fa-github mr-1"></i>
                        GitHub
                    </a>
                </div>
            </div>
        </div>
    </footer>
    <!-- @END_COMPONENT: Footer -->

    <!-- @COMPONENT: PreviewModal -->
    <div id="previewModal" class="hidden fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50">
        <div class="bg-card rounded-lg border border-border max-w-4xl w-full max-h-[80vh] overflow-hidden">
            <div class="flex items-center justify-between p-4 border-b border-border">
                <h3 class="text-lg font-semibold text-card-foreground">Visualizar JSON Convertido</h3>
                <button id="closeModal" class="text-muted-foreground hover:text-foreground">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            <div class="p-4 overflow-y-auto max-h-[60vh]">
                <div class="bg-muted rounded-lg p-4">
                    <pre id="jsonPreview" class="text-sm text-muted-foreground overflow-x-auto"><code data-bind="convertedJsonContent">// JSON convertido aparecerá aqui</code></pre>
                </div>
            </div>
            <div class="p-4 border-t border-border flex justify-end space-x-3">
                <button id="copyJson" class="bg-secondary hover:bg-secondary/80 text-secondary-foreground px-4 py-2 rounded-md font-medium transition-colors">
                    <i class="fas fa-copy mr-2"></i>
                    Copiar
                </button>
                <button id="downloadFromModal" class="bg-primary hover:bg-primary/90 text-primary-foreground px-4 py-2 rounded-md font-medium transition-colors">
                    <i class="fas fa-download mr-2"></i>
                    Baixar
                </button>
            </div>
        </div>
    </div>
    <!-- @END_COMPONENT: PreviewModal -->

    <script>
        (() => {
            // TODO: Implement file conversion logic using OBJ parser library
            // TODO: Add proper .obj to Blockbench JSON conversion algorithm
            // TODO: Implement file validation and error handling
            // TODO: Add progress tracking for large files
            
            // @STATE: selectedFile:File = null
            // @STATE: convertedData:Object = null
            // @STATE: isConverting:boolean = false
            
            const fileInput = document.getElementById('fileInput');
            const dropZone = document.getElementById('dropZone');
            const dropContent = document.getElementById('dropContent');
            const fileInfo = document.getElementById('fileInfo');
            const convertBtn = document.getElementById('convertBtn');
            const progressSection = document.getElementById('progressSection');
            const defaultOutput = document.getElementById('defaultOutput');
            const successOutput = document.getElementById('successOutput');
            const errorOutput = document.getElementById('errorOutput');
            const previewModal = document.getElementById('previewModal');
            const darkModeToggle = document.getElementById('darkModeToggle');

            let selectedFile = null;
            let isDragOver = false;

            // Dark mode toggle
            darkModeToggle.addEventListener('click', () => {
                document.documentElement.classList.toggle('dark');
                const icon = darkModeToggle.querySelector('i');
                icon.classList.toggle('fa-moon');
                icon.classList.toggle('fa-sun');
            });

            // File upload handlers
            fileInput.addEventListener('change', (e) => {
                if (e.target.files.length > 0) {
                    handleFileSelection(e.target.files[0]);
                }
            });

            dropZone.addEventListener('click', () => {
                fileInput.click();
            });

            // Drag and drop handlers
            dropZone.addEventListener('dragover', (e) => {
                e.preventDefault();
                if (!isDragOver) {
                    dropZone.classList.add('drag-over');
                    isDragOver = true;
                }
            });

            dropZone.addEventListener('dragleave', (e) => {
                e.preventDefault();
                if (!dropZone.contains(e.relatedTarget)) {
                    dropZone.classList.remove('drag-over');
                    isDragOver = false;
                }
            });

            dropZone.addEventListener('drop', (e) => {
                e.preventDefault();
                dropZone.classList.remove('drag-over');
                isDragOver = false;
                
                const files = e.dataTransfer.files;
                if (files.length > 0 && files[0].name.toLowerCase().endsWith('.obj')) {
                    handleFileSelection(files[0]);
                }
            });

            function handleFileSelection(file) {
                // TODO: Validate file type and size
                selectedFile = file;
                
                // Update file info display
                fileInfo.querySelector('[data-bind="selectedFile.name"]').textContent = file.name;
                fileInfo.querySelector('[data-bind="selectedFile.size"]').textContent = formatFileSize(file.size);
                
                // Show file info, hide drop zone content
                dropContent.classList.add('hidden');
                fileInfo.classList.remove('hidden');
                convertBtn.disabled = false;
                convertBtn.classList.remove('disabled:bg-muted', 'disabled:text-muted-foreground');
                convertBtn.classList.add('bg-primary', 'hover:bg-primary/90', 'text-primary-foreground');
            }

            // Remove file handler
            document.getElementById('removeFile').addEventListener('click', (e) => {
                e.stopPropagation();
                resetFileSelection();
            });

            function resetFileSelection() {
                selectedFile = null;
                fileInput.value = '';
                dropContent.classList.remove('hidden');
                fileInfo.classList.add('hidden');
                convertBtn.disabled = true;
                convertBtn.classList.add('disabled:bg-muted', 'disabled:text-muted-foreground');
                convertBtn.classList.remove('bg-primary', 'hover:bg-primary/90', 'text-primary-foreground');
                hideAllOutputs();
            }

            // Convert button handler
            convertBtn.addEventListener('click', () => {
                if (selectedFile && !convertBtn.disabled) {
                    simulateConversion();
                }
            });

            function simulateConversion() {
                // TODO: Replace with actual conversion logic
                progressSection.classList.remove('hidden');
                convertBtn.disabled = true;
                hideAllOutputs();

                // Simulate conversion process
                let progress = 0;
                const interval = setInterval(() => {
                    progress += Math.random() * 20;
                    if (progress >= 100) {
                        progress = 100;
                        clearInterval(interval);
                        setTimeout(() => {
                            showSuccessOutput();
                            progressSection.classList.add('hidden');
                            convertBtn.disabled = false;
                        }, 500);
                    }
                    
                    document.querySelector('[data-bind="conversionProgress"]').textContent = Math.round(progress) + '%';
                    document.querySelector('.processing-animation').style.width = progress + '%';
                }, 200);
            }

            function showSuccessOutput() {
                hideAllOutputs();
                successOutput.classList.remove('hidden');
            }

            function showErrorOutput() {
                hideAllOutputs();
                errorOutput.classList.remove('hidden');
            }

            function hideAllOutputs() {
                defaultOutput.classList.add('hidden');
                successOutput.classList.add('hidden');
                errorOutput.classList.add('hidden');
            }

            // Modal handlers
            document.getElementById('closeModal').addEventListener('click', () => {
                previewModal.classList.add('hidden');
            });

            document.querySelector('[data-event="click:previewFile"]').addEventListener('click', () => {
                // TODO: Load actual converted JSON content
                document.getElementById('jsonPreview').innerHTML = `<code>${JSON.stringify({
                    "format_version": "1.10.0",
                    "geometry.converted_model": {
                        "texturewidth": 64,
                        "textureheight": 64,
                        "visible_bounds_width": 3,
                        "visible_bounds_height": 6,
                        "visible_bounds_offset": [0, 3, 0],
                        "bones": [
                            {
                                "name": "root",
                                "pivot": [0, 12, 0]
                            }
                        ]
                    }
                }, null, 2)}</code>`;
                previewModal.classList.remove('hidden');
            });

            // Utility functions
            function formatFileSize(bytes) {
                if (bytes === 0) return '0 Bytes';
                const k = 1024;
                const sizes = ['Bytes', 'KB', 'MB', 'GB'];
                const i = Math.floor(Math.log(bytes) / Math.log(k));
                return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
            }

            // Download handlers
            document.querySelector('[data-event="click:downloadFile"]').addEventListener('click', () => {
                // TODO: Implement actual file download with converted JSON
                console.log('Downloading converted file...');
            });

            // Copy to clipboard
            document.getElementById('copyJson').addEventListener('click', () => {
                // TODO: Implement clipboard copy functionality
                console.log('Copying JSON to clipboard...');
            });

            // Reset converter
            document.querySelector('[data-event="click:resetConverter"]').addEventListener('click', () => {
                resetFileSelection();
            });
        })();
    </script>
</body>
</html>